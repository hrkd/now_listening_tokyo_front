"use strict";angular.module("nowListeningTokyoFrontApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider","$locationProvider",function(a,b){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/jwave",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/tfm",{templateUrl:"views/main.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("nowListeningTokyoFrontApp").controller("MainCtrl",["$scope","$YtModel","$cookieStore",function(a,b,c){var d,e=location.hash.replace("#/",""),f="jwave";console.log(c.get("station")),c.get("station")||c.put("station",f),e=""==e?c.get("station"):e,c.put("station",e),a.path=e,d=b(e),d.then(function(b){console.log("resolve"),console.log(b),a.info=b},function(a){console.log("error")})}]),angular.module("nowListeningTokyoFrontApp").factory("$YtModel",["$http","$q",function(a,b){var c,d,e,f,g,h="AIzaSyD5VdH4vZuheJMLDjwqr8Y0CaR4RQzorAc",i="https://www.googleapis.com/youtube/v3/search",j="http://youtube.com/watch",k="http://api.nowlistening.tokyo/";return e=function(b){a({method:"GET",url:i,params:{q:b.title+" "+b.artist,key:h,part:"snippet",alt:"json"}}).success(function(a,b,d,e){a.items?(console.log(a.items),f={title:a.items[0].snippet.title,src:a.items[0].snippet.thumbnails.high.url,description:a.items[0].snippet.description,url:j+"?v="+a.items[0].id.videoId},c.resolve(f)):c.reject(g)}).error(function(a,b,d,e){c.reject(g)})},function(f){return c=b.defer(),d=c.promise,a.jsonp(k+f+"?callback=JSON_CALLBACK").success(function(a,b,c,d){e(a)}).error(function(a,b,c,d){}),d}}]);